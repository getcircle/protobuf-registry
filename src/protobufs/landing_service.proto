package main.landing_service;

import "protobufs/organization_service.proto";
import "protobufs/profile_service.proto";

message LandingService {

    // MARK: - Containers

    message Containers {

        enum DisplayType {
            GROUP = 0;
            DETAIL = 1;
        }

        // "Category" containers should contain: "title", "content", and
        // "content_key" fields. The type for "content" can be specific to the
        // Category

        message ProfileCategory {
            optional string title = 1;
            repeated main.profile_service.ProfileService.Containers.Profile content = 2;
            optional string content_key = 3;
            optional DisplayType display_type = 4 [default = GROUP];
        }

        message AddressCategory {
            optional string title = 1;
            repeated main.organization_service.OrganizationService.Containers.Address content = 2;
            optional string content_key = 3;
            optional DisplayType display_type = 4 [default = DETAIL];
        }

    }

    // MARK: - Actions

    message GetCategories {

        message Request {
            oneof lookup_key {
                string profile_id = 1;
            }
        }

        message Response {
            repeated Containers.ProfileCategory profile_categories = 1;
            repeated Containers.AddressCategory address_categories = 2;
        }

    }

}
