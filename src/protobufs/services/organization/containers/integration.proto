syntax = "proto2";
package services.organization.containers.integration;

// GENERATED OPTIONS FOR: JAVA
option java_package = "com.rhlabs.protobufs.services.organization.containers.integration";

import "protobufs/services/common/containers.proto";

enum IntegrationTypeV1 {
    GOOGLE_GROUPS = 0;
    SLACK_SLASH_COMMAND = 1;
    SLACK_WEB_API = 2;
}

message IntegrationV1 {
    optional uint32 version = 1 [default = 1];
    optional string id = 2;
    optional string organization_id = 3;
    optional IntegrationTypeV1 integration_type = 4;
    oneof details {
        GoogleGroupDetailsV1 google_groups = 5;
        SlackSlashCommandDetailsV1 slack_slash_command = 6;
        SlackWebApiDetailsV1 slack_web_api = 8;
    }
    optional string provider_uid = 7;
}

message GoogleGroupDetailsV1 {
    optional uint32 version = 1 [default = 1];
    optional string admin_email = 2;
    repeated string scopes = 3;
    optional bool read_only = 4;
}

message SlackSlashCommandDetailsV1 {
    optional string token = 1;
}

message SlackWebApiDetailsV1 {
    optional string token = 1;
    optional string by_profile_id = 2;
    repeated string scopes = 3;
    optional string team_id = 4;
}
