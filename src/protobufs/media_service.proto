package main.media_service;

message MediaService {

    enum MediaObject {
        PROFILE = 1;
    }

    // MARK: - Containers

    message Containers {

        message UploadInstructions {
            optional string upload_id = 1;
            optional string upload_url = 2;
            optional string upload_key = 3;
        }

    }

    // MARK: - Actions

    message StartImageUpload {

        message Request {
            optional MediaObject media_object = 1;
            optional string media_key = 2;
        }

        message Response {
            optional Containers.UploadInstructions upload_instructions = 1;
        }

    }

    message CompleteImageUpload {

        message Request {
            optional MediaObject media_object = 1;
            optional string media_key = 2;
            optional string upload_key = 3;
            optional string upload_id = 4;
        }

        message Response {
            optional string media_url = 1;
        }

    }

}
